//
// jquery.alertable.js - Minimal alert and confirmation alternatives.
//
// Developed by Cory LaViska for A Beautiful Site, LLC
//
// Licensed under the MIT license: http://opensource.org/licenses/MIT
//
jQuery&&function(e){"use strict";function t(t,c,i){var u=e.Deferred();return d=document.activeElement,d.blur(),e(l).add(n).remove(),i=e.extend({},e.alertable.defaults,i),l=e(i.modal).hide(),n=e(i.overlay).hide(),o=e(i.okButton),r=e(i.cancelButton),i.html?l.find(".alertable-message").html(c):l.find(".alertable-message").text(c),e(l).find(".alertable-buttons").append("alert"===t?"":r).append(o),e(i.container).append(n).append(l),i.show.call({modal:l,overlay:n}),e(l).find(":input:last").focus(),o.on("click.alertable",function(){a(i),u.resolve()}),r.on("click.alertable",function(){a(i),u.reject()}),e(document).on("keydown.alertable",function(e){13!==e.keyCode&&27!==e.keyCode||(e.preventDefault(),a(i),13===e.keyCode?u.resolve():u.reject())}),e(document).on("focus.alertable","*",function(t){e(t.target).parents().is(".alertable")||(t.stopPropagation(),t.target.blur(),e(l).find(":input:first").focus())}),u.promise()}function a(t){t.hide.call({modal:l,overlay:n}),e(document).off(".alertable"),o.off(".alertable"),r.off(".alertable"),d.focus()}var l,n,o,r,d;e.alertable={alert:function(e,a){return t("alert",e,a)},confirm:function(e,a){return t("confirm",e,a)},defaults:{container:"body",html:!1,cancelButton:'<button class="alertable-cancel" type="button">Cancel</button>',okButton:'<button class="alertable-ok" type="button">OK</button>',overlay:'<div class="alertable-overlay"></div>',modal:'<div class="alertable"><div class="alertable-message"></div><div class="alertable-buttons"></div></div>',hide:function(){e(this.modal).add(this.overlay).fadeOut(100)},show:function(){e(this.modal).add(this.overlay).fadeIn(100)}}}}(jQuery);